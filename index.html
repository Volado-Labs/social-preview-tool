<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="robots" content="noindex, nofollow">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light">
<title>Post Preview — Volado Labs</title>
<style>
  /* ── Manrope font (Google Fonts) ── */
  @import url('https://fonts.googleapis.com/css2?family=Manrope:wght@200;300;400;500;600;700;800&display=swap');

  /* ── Brand tokens ── */
  :root {
    color-scheme: light;
    --navy:       #1b216b;
    --blue:       #3765f8;
    --light-blue: #a6ceff;
    --gray:       #2d2e2d;
    --orange:     #f47b2a;
    --bg:         #f0f2f8;
    --card-bg:    #ffffff;
    --border:     #dde1f0;
    --text:       #2d2e2d;
    --muted:      #6b7280;
  }

  * { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    background: var(--bg);
    font-family: 'Manrope', -apple-system, BlinkMacSystemFont, sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 100vh;
    transition: background .2s;
  }

  body.x-mode { background: var(--bg); }

  /* ══════════════════════════
     HEADER
  ══════════════════════════ */
  .site-header {
    width: 100%;
    background: var(--navy);
    padding: 0 24px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    height: 56px;
    box-shadow: 0 2px 12px rgba(27,33,107,.3);
    flex-shrink: 0;
  }

  .header-logo {
    display: flex;
    align-items: center;
    gap: 12px;
  }

  .header-logo img {
    height: 28px;
    width: auto;
  }

  .header-divider {
    width: 1px;
    height: 22px;
    background: rgba(255,255,255,.2);
  }

  .header-tool-name {
    font-size: 13px;
    font-weight: 600;
    color: rgba(255,255,255,.7);
    letter-spacing: .3px;
  }

  .header-badge {
    font-size: 11px;
    font-weight: 700;
    color: var(--navy);
    background: var(--orange);
    border-radius: 999px;
    padding: 3px 10px;
    letter-spacing: .3px;
  }

  /* ══════════════════════════
     MAIN CONTENT AREA
  ══════════════════════════ */
  .main {
    display: flex;
    flex-direction: row;
    align-items: flex-start;
    width: 100%;
    max-width: 1400px;
    padding: 28px 24px 60px;
    gap: 40px;
    margin: 0 auto;
  }
  .editor-section { flex-shrink: 0; }
  .preview-panel-col { flex: 1; min-width: 0; }
  @media (max-width: 900px) {
    .main { flex-direction: column; align-items: center; }
    .preview-panel-col { width: 100%; }
  }

  /* ── Platform Toggle ── */
  .platform-toggle-wrapper {
    width: 100%;
    display: flex;
    justify-content: center;
    padding: 20px 24px 0;
    background: var(--bg);
  }
  .platform-toggle {
    display: flex;
    background: #dde1f0;
    border-radius: 999px;
    padding: 4px;
    margin-bottom: 20px;
    gap: 2px;
  }

  .toggle-btn {
    display: flex;
    align-items: center;
    gap: 7px;
    padding: 8px 20px;
    border: none;
    border-radius: 999px;
    background: transparent;
    font-family: 'Manrope', sans-serif;
    font-size: 13px;
    font-weight: 600;
    color: var(--muted);
    cursor: pointer;
    transition: background .15s, color .15s, box-shadow .15s;
  }

  .toggle-btn.active {
    background: var(--navy);
    color: #fff;
    box-shadow: 0 2px 8px rgba(27,33,107,.3);
  }

  body.x-mode .toggle-btn.active { background: var(--blue); color: #fff; box-shadow: 0 2px 8px rgba(55,101,248,.4); }

  .toggle-btn svg { width: 15px; height: 15px; }

  /* ── Preview wrap ── */
  .preview-wrap { display: block; width: 100%; }
  .preview-platform-section { display: flex; flex-direction: column; gap: 10px; }
  .preview-platform-label { display: flex; align-items: center; gap: 7px; font-size: 13px; font-weight: 700; color: #555; text-transform: uppercase; letter-spacing: .04em; padding: 0 2px; }
  @media (max-width: 900px) { .preview-wrap { grid-template-columns: 1fr; } }

  /* ══════════════════════════
     LINKEDIN CARD
  ══════════════════════════ */
  #li-preview { display: block; }
  #x-preview  { display: none; }
  #fb-preview { display: none; }
  #ig-preview { display: none; }

  .li-card {
    background: #fff;
    border-radius: 8px;
    border: 1px solid #e0e0e0;
    overflow: hidden;
    box-shadow: 0 0 0 1px rgba(0,0,0,.08), 0 2px 4px rgba(0,0,0,.05);
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  }

  .li-header { display: flex; align-items: flex-start; padding: 12px 16px 0; gap: 8px; }

  .avatar-wrap { position: relative; flex-shrink: 0; cursor: pointer; }
  .avatar-wrap:hover .avatar-overlay { opacity: 1; }

  .li-avatar {
    width: 48px; height: 48px; border-radius: 50%;
    background: linear-gradient(135deg, #0077b5, #004182);
    display: flex; align-items: center; justify-content: center;
    color: #fff; font-size: 20px; font-weight: 700; overflow: hidden;
  }

  .li-avatar img { width: 100%; height: 100%; object-fit: cover; border-radius: 50%; display: block; }

  .avatar-overlay {
    position: absolute; inset: 0; border-radius: 50%;
    background: rgba(0,0,0,.45);
    display: flex; align-items: center; justify-content: center;
    opacity: 0; transition: opacity .15s;
  }

  .avatar-overlay svg { width: 18px; height: 18px; fill: #fff; }

  .li-author { flex: 1; min-width: 0; }

  .li-name {
    font-size: 14px; font-weight: 600; color: rgba(0,0,0,.9);
    display: flex; align-items: center; gap: 4px; line-height: 1.3;
  }

  .li-degree { font-weight: 400; color: rgba(0,0,0,.6); font-size: 12px; }
  .li-title  { font-size: 12px; color: rgba(0,0,0,.6); line-height: 1.4; margin-top: 1px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

  .li-meta { font-size: 12px; color: rgba(0,0,0,.6); display: flex; align-items: center; gap: 4px; margin-top: 2px; }
  .globe-icon { width: 12px; height: 12px; opacity: .6; }

  .li-follow { font-size: 14px; font-weight: 600; color: #0a66c2; background: none; border: none; cursor: pointer; padding: 0 4px; white-space: nowrap; flex-shrink: 0; }
  .li-more   { background: none; border: none; cursor: pointer; color: rgba(0,0,0,.6); font-size: 20px; padding: 0 4px; line-height: 1; flex-shrink: 0; align-self: center; }

  .li-text { padding: 8px 16px 0; font-size: 14px; color: rgba(0,0,0,.9); line-height: 1.5; white-space: pre-wrap; word-break: break-word; }
  .li-see-more { color: rgba(0,0,0,.6); font-size: 14px; cursor: pointer; padding: 0 16px; }

  .li-hashtag { color: #0a66c2; }
  .li-mention  { color: #0a66c2; }

  .post-image-wrap { display: none; margin-top: 10px; }
  .post-image-wrap img { width: 100%; max-height: 460px; object-fit: cover; display: block; }

  .li-reactions { display: flex; align-items: center; justify-content: space-between; padding: 6px 16px; margin-top: 8px; }

  .reaction-icons { display: flex; align-items: center; }
  .emoji-circle { width: 18px; height: 18px; border-radius: 50%; border: 1.5px solid #fff; font-size: 11px; display: flex; align-items: center; justify-content: center; margin-left: -3px; }
  .emoji-circle:first-child { margin-left: 0; }
  .reaction-count { font-size: 12px; color: rgba(0,0,0,.6); margin-left: 4px; }
  .comment-count  { font-size: 12px; color: rgba(0,0,0,.6); }

  .li-divider { border: none; border-top: 1px solid #e0e0e0; margin: 4px 0; }

  .li-actions { display: flex; align-items: center; padding: 4px 8px 8px; }
  .li-action-btn { flex: 1; display: flex; align-items: center; justify-content: center; gap: 5px; padding: 10px 4px; border: none; background: none; border-radius: 4px; cursor: pointer; font-size: 13px; font-weight: 600; color: rgba(0,0,0,.6); transition: background .15s; }
  .li-action-btn:hover { background: rgba(0,0,0,.05); }
  .li-action-btn svg { width: 18px; height: 18px; fill: rgba(0,0,0,.6); }

  /* ══════════════════════════
     X CARD
  ══════════════════════════ */
  .x-card {
    background: #fff; border: 1px solid #cfd9de; border-radius: 16px; overflow: hidden;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    box-shadow: 0 0 0 1px rgba(0,0,0,.06), 0 2px 4px rgba(0,0,0,.04);
  }

  .x-post { display: flex; gap: 12px; padding: 12px 16px 0; }

  .x-avatar-col { flex-shrink: 0; display: flex; flex-direction: column; align-items: center; }

  .x-avatar-wrap { position: relative; width: 40px; height: 40px; cursor: pointer; }
  .x-avatar-wrap:hover .avatar-overlay { opacity: 1; }

  .x-avatar { width: 40px; height: 40px; border-radius: 50%; background: linear-gradient(135deg, #1d9bf0, #0063bf); display: flex; align-items: center; justify-content: center; color: #fff; font-size: 17px; font-weight: 700; overflow: hidden; }
  .x-avatar img { width: 100%; height: 100%; object-fit: cover; border-radius: 50%; display: block; }

  .x-content { flex: 1; min-width: 0; }
  .x-header  { display: flex; align-items: center; justify-content: space-between; margin-bottom: 2px; }
  .x-name-row { display: flex; align-items: center; gap: 4px; flex-wrap: wrap; }
  .x-name    { font-size: 15px; font-weight: 700; color: #0f1419; line-height: 1.3; white-space: nowrap; }
  .x-check   { display: inline-flex; align-items: center; background: #1d9bf0; border-radius: 50%; width: 18px; height: 18px; flex-shrink: 0; }
  .x-check svg { width: 10px; height: 10px; fill: #fff; margin: auto; display: block; }
  .x-handle  { font-size: 15px; color: #536471; white-space: nowrap; }
  .x-dot     { color: #536471; font-size: 15px; }
  .x-time    { font-size: 15px; color: #536471; }
  .x-more    { background: none; border: none; color: #536471; cursor: pointer; font-size: 18px; padding: 0 4px; line-height: 1; flex-shrink: 0; margin-left: auto; }
  .x-follow  { background: #0f1419; color: #fff; border: none; border-radius: 999px; padding: 5px 16px; font-size: 14px; font-weight: 700; cursor: pointer; white-space: nowrap; flex-shrink: 0; }

  .x-text { font-size: 15px; color: #0f1419; line-height: 1.5; white-space: pre-wrap; word-break: break-word; margin-bottom: 12px; }
  .x-hashtag { color: #1d9bf0; }
  .x-mention  { color: #1d9bf0; }

  .x-image-wrap { display: none; border-radius: 12px; overflow: hidden; margin-bottom: 12px; }
  .x-image-wrap img { width: 100%; max-height: 400px; object-fit: cover; display: block; }

  .x-timestamp-row { padding: 12px 16px; border-top: 1px solid #eff3f4; font-size: 15px; color: #536471; display: flex; align-items: center; gap: 6px; }
  .x-stats-row     { padding: 10px 16px; border-top: 1px solid #eff3f4; display: flex; align-items: center; gap: 20px; font-size: 14px; color: #536471; }
  .x-stat strong   { color: #0f1419; }
  .x-actions       { padding: 4px 16px 4px; border-top: 1px solid #eff3f4; display: flex; align-items: center; justify-content: space-between; }
  .x-act { display: flex; align-items: center; gap: 6px; background: none; border: none; cursor: pointer; color: #536471; font-size: 13px; padding: 8px 4px; border-radius: 999px; transition: color .15s; }
  .x-act:hover { color: #1d9bf0; }
  .x-act:nth-child(2):hover { color: #00ba7c; }
  .x-act:nth-child(3):hover { color: #f91880; }
  .x-act svg { width: 18px; height: 18px; fill: currentColor; }

  /* ══════════════════════════
     EDITOR
  ══════════════════════════ */
  .editor-section {
    width: 100%; max-width: 555px;
    background: var(--card-bg);
    border-radius: 12px;
    border: 1px solid var(--border);
    margin-top: 20px; padding: 20px;
    box-shadow: 0 2px 12px rgba(27,33,107,.07);
    transition: background .2s, border-color .2s;
  }

  .editor-header {
    display: flex; align-items: center; gap: 8px;
    margin-bottom: 16px;
    padding-bottom: 14px;
    border-bottom: 1px solid var(--border);
  }

  .editor-icon {
    width: 30px; height: 30px; border-radius: 8px;
    background: var(--navy);
    display: flex; align-items: center; justify-content: center;
    flex-shrink: 0;
  }

  .editor-icon svg { width: 16px; height: 16px; fill: #fff; }

  .editor-title { font-size: 14px; font-weight: 700; color: var(--navy); letter-spacing: .2px; }

  .editor-subtitle { font-size: 11px; color: var(--muted); font-weight: 500; }

  /* Avatar thumb */
  .avatar-thumb-row { display: flex; align-items: center; gap: 10px; margin-bottom: 14px; }

  .avatar-thumb { width: 40px; height: 40px; border-radius: 50%; background: var(--navy); display: flex; align-items: center; justify-content: center; color: #fff; font-size: 16px; font-weight: 700; overflow: hidden; flex-shrink: 0; }
  .avatar-thumb img { width: 100%; height: 100%; object-fit: cover; border-radius: 50%; display: block; }

  .avatar-upload-btn {
    flex: 1; display: flex; align-items: center; gap: 6px;
    padding: 8px 12px; border: 1.5px dashed var(--border); border-radius: 8px;
    background: #f8f9fe; cursor: pointer; font-family: 'Manrope', sans-serif;
    font-size: 12px; font-weight: 600; color: var(--muted);
    transition: border-color .15s, background .15s, color .15s;
    position: relative; overflow: hidden;
  }

  .avatar-upload-btn:hover { border-color: var(--blue); background: #eef2ff; color: var(--blue); }
  .avatar-upload-btn input[type=file] { position: absolute; inset: 0; opacity: 0; cursor: pointer; }
  .avatar-upload-btn svg { width: 15px; height: 15px; fill: currentColor; }

  /* Fields */
  .field { margin-bottom: 12px; }
  .field-row { display: flex; gap: 10px; margin-bottom: 12px; }
  .field-row .field { flex: 1; margin-bottom: 0; }

  .field label {
    display: block; font-size: 11px; font-weight: 700; color: var(--navy);
    margin-bottom: 5px; text-transform: uppercase; letter-spacing: .5px;
  }

  .field input[type=text], .field textarea {
    width: 100%; border: 1.5px solid var(--border); border-radius: 8px;
    padding: 8px 12px; font-size: 13px; font-family: 'Manrope', sans-serif;
    font-weight: 500; color: var(--text); background: #fff;
    outline: none; transition: border-color .15s, box-shadow .15s; resize: vertical;
  }

  .field input[type=text]:focus,
  .field textarea:focus {
    border-color: var(--blue);
    box-shadow: 0 0 0 3px rgba(55,101,248,.12);
  }

  #post-input { min-height: 120px; line-height: 1.6; }

  .char-count { text-align: right; font-size: 11px; font-weight: 600; color: var(--muted); margin-top: 4px; }
  .char-count.warn { color: var(--orange); }
  .char-count.over { color: #cc1016; }

  /* X/LI field visibility */
  .x-only  { display: none; }
  body.x-mode  .x-only  { display: block; }
  body.x-mode  .li-only { display: none; }

  /* Upload button */
  .upload-btn {
    flex: 1; display: flex; align-items: center; justify-content: center; gap: 6px;
    padding: 9px 12px; border: 1.5px dashed var(--border); border-radius: 8px;
    background: #f8f9fe; cursor: pointer; font-family: 'Manrope', sans-serif;
    font-size: 12px; font-weight: 600; color: var(--muted);
    transition: border-color .15s, background .15s, color .15s;
    position: relative; overflow: hidden;
  }

  .upload-btn:hover { border-color: var(--blue); background: #eef2ff; color: var(--blue); }
  .upload-btn input[type=file] { position: absolute; inset: 0; opacity: 0; cursor: pointer; }
  .upload-btn svg { width: 16px; height: 16px; fill: currentColor; }

  .clear-img-btn { background: none; border: none; font-size: 12px; font-weight: 700; color: #cc1016; cursor: pointer; padding: 4px 0; display: none; font-family: 'Manrope', sans-serif; }

  .post-img-thumb { margin-top: 8px; display: none; }
  .post-img-thumb img { max-height: 80px; border-radius: 6px; border: 1px solid var(--border); }

  /* ── Footer ── */
  .site-footer {
    width: 100%;
    text-align: center;
    padding: 20px;
    font-size: 11px;
    font-weight: 600;
    color: rgba(27,33,107,.4);
    letter-spacing: .3px;
    margin-top: 8px;
  }

  /* ── Screenshot Button ── */
  .screenshot-row {
    display: flex;
    justify-content: flex-end;
    width: 100%;
    max-width: 555px;
    margin-bottom: 12px;
  }

  .screenshot-btn {
    display: flex;
    align-items: center;
    gap: 7px;
    padding: 9px 18px;
    border: none;
    border-radius: 999px;
    background: var(--navy);
    font-family: 'Manrope', sans-serif;
    font-size: 13px;
    font-weight: 700;
    color: #fff;
    cursor: pointer;
    letter-spacing: .3px;
    box-shadow: 0 2px 8px rgba(27,33,107,.25);
    transition: background .15s, box-shadow .15s, transform .1s;
  }

  .screenshot-btn:hover { background: var(--blue); box-shadow: 0 4px 12px rgba(55,101,248,.35); }
  .screenshot-btn:active { transform: scale(.97); }
  .screenshot-btn svg { width: 15px; height: 15px; fill: #fff; }



  /* ══════════════════════════
     FACEBOOK CARD
  ══════════════════════════ */
  .fb-card { background:#fff; border-radius:8px; box-shadow:0 1px 3px rgba(0,0,0,.18); font-family:'Helvetica Neue',Arial,sans-serif; overflow:hidden; }
  .fb-post-header { display:flex; align-items:center; gap:8px; padding:12px 16px 8px; }
  .fb-avatar { width:40px; height:40px; border-radius:50%; background:#0866FF; color:#fff; font-weight:700; display:flex; align-items:center; justify-content:center; font-size:17px; flex-shrink:0; overflow:hidden; cursor:pointer; }
  .fb-avatar img { width:100%; height:100%; object-fit:cover; }
  .fb-post-name { font-weight:700; font-size:15px; color:#050505; line-height:1.2; }
  .fb-post-info { font-size:12px; color:#65676b; display:flex; align-items:center; gap:3px; }
  .fb-more-btn { margin-left:auto; background:none; border:none; font-size:18px; color:#65676b; cursor:pointer; padding:4px 8px; border-radius:50%; }
  .fb-more-btn:hover { background:#f0f2f5; }
  .fb-post-text { padding:0 16px 12px; font-size:15px; color:#050505; line-height:1.44; white-space:pre-wrap; word-break:break-word; }
  .fb-post-img-wrap img { width:100%; display:block; }
  .fb-reaction-summary { display:flex; align-items:center; padding:8px 16px; border-bottom:1px solid #e4e6eb; font-size:14px; color:#65676b; }
  .fb-reactions-icons { margin-right:4px; }
  .fb-comment-share { font-size:14px; }
  .fb-action-bar { display:flex; border-top:1px solid #e4e6eb; }
  .fb-action-btn { flex:1; display:flex; align-items:center; justify-content:center; gap:5px; padding:8px 4px; background:none; border:none; color:#65676b; font-size:14px; font-weight:700; border-radius:4px; cursor:pointer; }
  .fb-action-btn:hover { background:#f0f2f5; }

  /* ══════════════════════════
     INSTAGRAM CARD
  ══════════════════════════ */
  .ig-card { background:#fff; border-radius:8px; box-shadow:0 1px 3px rgba(0,0,0,.18); font-family:-apple-system,BlinkMacSystemFont,'Helvetica Neue',sans-serif; overflow:hidden; }
  .ig-post-header { display:flex; align-items:center; gap:10px; padding:14px 16px; }
  .ig-avatar { width:32px; height:32px; border-radius:50%; background:linear-gradient(135deg,#f09433 0%,#e6683c 25%,#dc2743 50%,#cc2366 75%,#bc1888 100%); color:#fff; font-weight:700; display:flex; align-items:center; justify-content:center; font-size:13px; flex-shrink:0; overflow:hidden; cursor:pointer; }
  .ig-avatar img { width:100%; height:100%; object-fit:cover; }
  .ig-post-username { font-weight:700; font-size:14px; color:#262626; flex:1; }
  .ig-follow-btn { font-size:14px; color:#0095f6; font-weight:700; background:none; border:none; cursor:pointer; padding:0; }
  .ig-more-btn { background:none; border:none; font-size:18px; color:#262626; cursor:pointer; }
  .ig-post-img-wrap { width:100%; aspect-ratio:1/1; background:#f5f5f5; display:flex; align-items:center; justify-content:center; overflow:hidden; position:relative; }
  .ig-post-img-wrap img { width:100%; height:100%; object-fit:cover; }
  .ig-no-img { color:#aaa; font-size:13px; text-align:center; padding:24px; }
  .ig-action-bar { display:flex; align-items:center; padding:10px 16px; gap:14px; }
  .ig-act-btn { background:none; border:none; cursor:pointer; padding:0; color:#262626; display:flex; align-items:center; }
  .ig-save-btn { margin-left:auto; }
  .ig-likes { padding:0 16px 4px; font-size:14px; font-weight:700; color:#262626; }
  .ig-caption { padding:0 16px 14px; font-size:14px; color:#262626; line-height:1.5; word-break:break-word; }
  .ig-caption-username { font-weight:700; margin-right:5px; }


  /* ══════════════════════════
     PREVIEW COLUMNS (desktop + mobile side-by-side)
  ══════════════════════════ */

  .preview-platform-label-row {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 12px;
    font-weight: 700;
    color: #888;
    text-transform: uppercase;
    letter-spacing: .06em;
  }
  .preview-both {
    display: flex;
    flex-direction: column;
    gap: 32px;
    align-items: stretch;
  }
  .preview-desktop-col {
    width: 100%;
    min-width: 0;
  }
  .preview-desktop-label {
    font-size: 11px;
    font-weight: 700;
    color: #aaa;
    text-transform: uppercase;
    letter-spacing: .06em;
    margin-bottom: 8px;
  }

  /* ── Phone frame ── */
  .mobile-col {
    flex-shrink: 0;
    width: 280px;
  }
  .mobile-label {
    font-size: 11px;
    font-weight: 700;
    color: #aaa;
    text-transform: uppercase;
    letter-spacing: .06em;
    margin-bottom: 8px;
  }
  .phone-frame {
    background: #1c1c1e;
    border-radius: 42px;
    padding: 13px;
    box-shadow:
      0 30px 80px rgba(0,0,0,.45),
      0 0 0 1px rgba(255,255,255,.06) inset,
      0 0 0 5px #2a2a2c inset;
    position: relative;
    width: 280px;
  }
  .phone-notch {
    position: absolute;
    top: 13px;
    left: 50%;
    transform: translateX(-50%);
    width: 88px;
    height: 24px;
    background: #1c1c1e;
    border-radius: 0 0 14px 14px;
    z-index: 20;
  }
  .phone-screen {
    background: #fff;
    border-radius: 30px;
    overflow: hidden;
    height: 580px;
    overflow-y: auto;
    overflow-x: hidden;
    scroll-behavior: smooth;
    scrollbar-width: none;
    position: relative;
  }
  .phone-screen::-webkit-scrollbar { display: none; }
  .phone-status-bar {
    background: #fff;
    padding: 30px 18px 6px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    font-size: 11px;
    font-weight: 700;
    position: sticky;
    top: 0;
    z-index: 10;
  }
  .phone-status-time { font-size: 12px; font-weight: 800; }
  .phone-status-icons { display: flex; gap: 4px; align-items: center; }

  /* ── Mobile card overrides (smaller, phone-width) ── */
  .mobile-li-card { font-size: 13px; }
  .mobile-li-card .li-card-header { padding: 10px 12px 6px; }
  .mobile-li-card .li-avatar { width: 36px; height: 36px; font-size: 14px; }
  .mobile-li-card .li-display-name { font-size: 13px; }
  .mobile-li-card .li-headline { font-size: 11px; }
  .mobile-li-card .li-post-text { padding: 0 12px 8px; font-size: 13px; }
  .mobile-li-card .li-post-img-wrap img { width: 100%; }
  .mobile-li-card .li-engagement { padding: 4px 12px; font-size: 11px; }
  .mobile-li-card .li-actions { padding: 2px 4px; }
  .mobile-li-card .li-action-btn { font-size: 11px; padding: 6px 4px; }

  .mobile-x-card { padding: 12px 12px 0; }
  .mobile-x-card .x-avatar { width: 36px; height: 36px; font-size: 14px; }
  .mobile-x-card .x-name { font-size: 13px; }
  .mobile-x-card .x-handle { font-size: 11px; }
  .mobile-x-card .x-post-text { font-size: 13px; }
  .mobile-x-card .x-post-img-wrap img { border-radius: 10px; }
  .mobile-x-card .x-metrics { font-size: 12px; padding: 8px 0; }
  .mobile-x-card .x-actions { padding: 4px 0; }

  .mobile-fb-card .fb-post-header { padding: 10px 12px 6px; }
  .mobile-fb-card .fb-avatar { width: 34px; height: 34px; font-size: 14px; }
  .mobile-fb-card .fb-post-name { font-size: 13px; }
  .mobile-fb-card .fb-post-text { padding: 0 12px 8px; font-size: 14px; }
  .mobile-fb-card .fb-reaction-summary { padding: 6px 12px; font-size: 12px; }
  .mobile-fb-card .fb-action-btn { font-size: 13px; padding: 6px 2px; }

  .mobile-ig-card .ig-post-header { padding: 10px 12px; }
  .mobile-ig-card .ig-avatar { width: 28px; height: 28px; font-size: 12px; }
  .mobile-ig-card .ig-post-username { font-size: 13px; }
  .mobile-ig-card .ig-likes { padding: 0 12px 3px; font-size: 13px; }
  .mobile-ig-card .ig-caption { padding: 0 12px 10px; font-size: 13px; }
  .mobile-ig-card .ig-action-bar { padding: 6px 12px; }

  /* Screenshot wrapper (off-screen, used for capture) */
  #screenshot-capture {
    position: fixed;
    left: -9999px;
    top: 0;
    background: #f4f5f8;
    padding: 32px;
    display: flex;
    gap: 28px;
    align-items: flex-start;
    border-radius: 16px;
  }
  .screenshot-col-label {
    font-family: 'Manrope', sans-serif;
    font-size: 11px;
    font-weight: 700;
    color: #999;
    text-transform: uppercase;
    letter-spacing: .06em;
    margin-bottom: 10px;
    text-align: center;
  }

  /* ── Stacked layout: desktop full-width on top, mobile phone below ── */
  .preview-both {
    display: flex;
    flex-direction: column;
    gap: 32px;
    align-items: stretch;
  }
  .preview-desktop-col { width: 100%; }
  .mobile-col {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
  }
  .mobile-label {
    font-size: 11px;
    font-weight: 700;
    color: #aaa;
    text-transform: uppercase;
    letter-spacing: .06em;
  }
  /* Hide the old toggle bar if it still exists */
  .view-toggle-bar { display: none; }

</style>
<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
</head>
<body>

<!-- ══ HEADER ══ -->
<header class="site-header">
  <div class="header-logo">
    <div class="header-divider"></div>
    <span class="header-tool-name">Post Preview Tool</span>
  </div>
  <span class="header-badge">Internal</span>
</header>

<!-- ══ MAIN ══ -->
<div class="platform-toggle-wrapper">
  <div class="platform-toggle">
    <button class="toggle-btn active" id="btn-li" onclick="setPlatform('li')">
      <svg viewBox="0 0 24 24" fill="currentColor"><path d="M20.447 20.452H17.01v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.585V9h3.3v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a1.922 1.922 0 01-1.923-1.926 1.923 1.923 0 112.947 1.624 1.916 1.916 0 01-1.024.302zM6.98 20.452H3.692V9H6.98v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
      LinkedIn
    </button>
    <button class="toggle-btn" id="btn-x" onclick="setPlatform('x')">
      <svg viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-4.714-6.231-5.401 6.231H2.744l7.73-8.835L1.254 2.25H8.08l4.253 5.622 5.912-5.622zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
      X
    </button>
    <button class="toggle-btn" id="btn-fb" onclick="setPlatform('fb')">
      <svg viewBox="0 0 24 24" fill="currentColor"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>
      Facebook
    </button>
    <button class="toggle-btn" id="btn-ig" onclick="setPlatform('ig')">
      <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.881 1.44 1.44 0 000-2.881z"/></svg>
      Instagram
    </button>
  </div>
</div><!-- /.platform-toggle-wrapper -->

  <!-- Screenshot Button -->
  <div class="screenshot-row">
    <button class="screenshot-btn" onclick="downloadScreenshot()">
      <svg viewBox="0 0 24 24"><path d="M9 2a1 1 0 00-.894.553L7.382 4H4a2 2 0 00-2 2v12a2 2 0 002 2h16a2 2 0 002-2V6a2 2 0 00-2-2h-3.382l-.724-1.447A1 1 0 0015 2H9zm3 5a5 5 0 110 10A5 5 0 0112 7zm0 2a3 3 0 100 6 3 3 0 000-6z"/></svg>
      Download Screenshot
    </button>
  </div>

<div class="main">

  <!-- ══ EDITOR ══ -->
  <div class="editor-section">
    <div class="editor-header">
      <div class="editor-icon">
        <svg viewBox="0 0 24 24"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a1 1 0 000-1.41l-2.34-2.34a1 1 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/></svg>
      </div>
      <div>
        <div class="editor-title">Edit Post</div>
        <div class="editor-subtitle">Changes update the preview live</div>
      </div>
    </div>

    <div class="avatar-thumb-row">
      <div class="avatar-thumb" id="editor-avatar"><span>C</span></div>
      <label class="avatar-upload-btn">
        <input type="file" id="avatar-file" accept="image/*" onchange="handleAvatar(event)">
        <svg viewBox="0 0 24 24"><path d="M12 12a4 4 0 110-8 4 4 0 010 8zm0 2c4.42 0 8 1.79 8 4v1H4v-1c0-2.21 3.58-4 8-4z"/></svg>
        Upload profile photo
      </label>
    </div>

    <div class="field-row">
      <div class="field">
        <label>Name</label>
        <input type="text" id="name-input" value="Collin Wood" placeholder="Your Name">
      </div>
      <div class="field li-only">
        <label>LinkedIn Headline</label>
        <input type="text" id="title-input" value="Founder @ Volado Labs | SEO & AEO for Local Businesses">
      </div>
      <div class="field x-only">
        <label>X @handle</label>
        <input type="text" id="handle-input" value="@collinwood" placeholder="@handle">
      </div>
    </div>

    <div class="field">
      <label>Post Text</label>
      <textarea id="post-input" placeholder="Paste your post here..."></textarea>
      <div class="char-count" id="char-count">0 chars</div>
    </div>

    <div class="field">
      <label>Post Image <span style="font-weight:500;text-transform:none;color:var(--muted)">(optional)</span></label>
      <div style="display:flex;align-items:center;gap:10px">
        <label class="upload-btn">
          <input type="file" id="post-img-file" accept="image/*" onchange="handlePostImage(event)">
          <svg viewBox="0 0 24 24"><path d="M21 3H3C1.9 3 1 3.9 1 5v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-1 16H4a1 1 0 01-1-1V6h18v12a1 1 0 01-1 1zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/></svg>
          Upload post image
        </label>
        <button class="clear-img-btn" id="clear-img-btn" onclick="clearPostImage()">✕ Remove</button>
      </div>
      <div class="post-img-thumb" id="post-img-thumb">
        <img id="post-img-preview" src="" alt="">
      </div>
    </div>
  </div>


  <div class="preview-panel-col">
  <div class="preview-wrap">

    <!-- ── LinkedIn Preview ── -->
    <div id="li-preview">
      <div class="preview-both">
        <div class="preview-desktop-col">
          <div class="preview-desktop-label">Desktop</div>
      <div class="li-card">
        <div class="li-header">
          <div class="avatar-wrap" onclick="document.getElementById('avatar-file').click()">
            <div class="li-avatar" id="li-avatar-el"><span>C</span></div>
            <div class="avatar-overlay"><svg viewBox="0 0 24 24"><path d="M12 12a4 4 0 110-8 4 4 0 010 8zm0 2c4.42 0 8 1.79 8 4v1H4v-1c0-2.21 3.58-4 8-4z"/></svg></div>
          </div>
          <div class="li-author">
            <div class="li-name"><span id="li-display-name">Collin Wood</span><span class="li-degree">&nbsp;&middot; 1st</span></div>
            <div class="li-title" id="li-display-title">Founder @ Volado Labs | SEO &amp; AEO for Local Businesses</div>
            <div class="li-meta">
              <span>just now</span><span style="font-size:8px">&bull;</span>
              <svg class="globe-icon" viewBox="0 0 16 16" fill="currentColor"><path d="M8 1a7 7 0 100 14A7 7 0 008 1zM2.05 8.5h2.04c.13.97.38 1.88.71 2.72A5.52 5.52 0 012.05 8.5zm1.28-2h2.08c-.09.48-.16.97-.19 1.5H2.05A5.51 5.51 0 013.33 6.5zm4.67-.44V4.07A5.5 5.5 0 019.91 6H8V6.06zM8 7.5h2.24c.08.48.13.98.13 1.5H8V7.5zm0 2.5h2.37c-.13.52-.3 1.01-.53 1.46A5.5 5.5 0 018 12.94V10zm-2 2.94A5.5 5.5 0 015.63 10H8v2.94zM8 8.5H5.63A10.4 10.4 0 015.76 7H8V8.5zM8 6H5.76c.17-1.01.5-1.93.95-2.76A5.5 5.5 0 018 4.07V6zm2.67.5h2.08A5.51 5.51 0 0113.95 8H11c0-.52-.05-1.02-.13-1.5H10.67z"/></svg>
            </div>
          </div>
          <button class="li-follow">+ Follow</button>
          <button class="li-more">&middot;&middot;&middot;</button>
        </div>
        <div class="li-text" id="li-post-display"></div>
        <div style="padding:0 16px 0"><span class="li-see-more" id="li-see-more" style="display:none">&hellip;more</span></div>
        <div class="post-image-wrap" id="li-img-wrap"><img id="li-post-img" src="" alt=""></div>
        <div class="li-reactions">
          <div style="display:flex;align-items:center;gap:4px">
            <div class="reaction-icons">
              <div class="emoji-circle">&#128077;</div>
              <div class="emoji-circle">&#10084;&#65039;</div>
              <div class="emoji-circle">&#128161;</div>
            </div>
            <span class="reaction-count">47</span>
          </div>
          <span class="comment-count">12 comments &middot; 3 reposts</span>
        </div>
        <hr class="li-divider">
        <div class="li-actions">
          <button class="li-action-btn"><svg viewBox="0 0 24 24"><path d="M19.46 11l-3.91-3.91a7 7 0 00-9.8 9.8L9 15.65v-1.72a5 5 0 017.21-4.49l-1.63 1.63A3 3 0 009 13.93v4.14L5.86 15A5 5 0 0112.93 7.9l2.83-2.83A9 9 0 012.55 17.45l-.63-.63A7 7 0 0112 4a7 7 0 014.62 1.73L19.46 11z"/></svg>Like</button>
          <button class="li-action-btn"><svg viewBox="0 0 24 24"><path d="M7 9h10v1H7zm0 4h7v-1H7zm16-2a6.78 6.78 0 01-2.84 5.61L12 20l-8.16-3.39A6.78 6.78 0 011 11V5.5A1.5 1.5 0 012.5 4h19A1.5 1.5 0 0123 5.5zM21 5.5a.5.5 0 00-.5-.5h-17a.5.5 0 00-.5.5V11a4.78 4.78 0 002.16 4L12 18l6.84-3A4.78 4.78 0 0021 11z"/></svg>Comment</button>
          <button class="li-action-btn"><svg viewBox="0 0 24 24"><path d="M23 12l-4.61-7h-2.81l3.72 5.62-3.44 5.37-4.07-6.14-.88-1.4L9.61 5H6.81L2 12l4.81 7h2.8L6.88 13.5 10 8.5l3.13 5-3.44 5.5h2.81z"/></svg>Repost</button>
          <button class="li-action-btn"><svg viewBox="0 0 24 24"><path d="M22.7 8.72l-5.01 5a1 1 0 01-1.41 0l-5.01-5a1 1 0 011.41-1.41L16 11.09V4a1 1 0 012 0v7.09l3.29-3.78a1 1 0 011.41 1.41zM14 14H4V4h6V2H4a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2V14h-2z"/></svg>Send</button>
        </div>
      </div>
        </div>
      <div class="mobile-col">
        <div class="mobile-label">Mobile</div>
        <div class="phone-frame">
          <div class="phone-notch"></div>
          <div class="phone-screen">
              <div class="phone-status-bar">
                <span class="phone-status-time">9:41</span>
                <div class="phone-status-icons">
                  <svg width="17" height="12" viewBox="0 0 17 12" fill="currentColor"><rect x="0" y="4" width="3" height="8" rx="1" opacity=".4"/><rect x="4.5" y="3" width="3" height="9" rx="1" opacity=".6"/><rect x="9" y="1" width="3" height="11" rx="1" opacity=".8"/><rect x="13.5" y="0" width="3" height="12" rx="1"/></svg>
                  <svg width="16" height="12" viewBox="0 0 24 18" fill="currentColor"><path d="M12 4C8.13 4 4.61 5.55 2.01 8.15L0 6.14C3.12 3.07 7.34 1 12 1s8.88 2.07 11.99 5.14l-2.01 2.01C19.39 5.55 15.87 4 12 4zm0 6c-2.56 0-4.87 1.04-6.54 2.71L3.45 10.7C5.63 8.52 8.67 7 12 7s6.37 1.52 8.55 3.7l-2.01 2.01C16.87 11.04 14.56 10 12 10zm0 6a4 4 0 00-2.83 1.17L12 20.34l2.83-3.17A4 4 0 0012 16z"/></svg>
                  <svg width="25" height="12" viewBox="0 0 25 12" fill="none"><rect x="0.5" y="0.5" width="21" height="11" rx="2" stroke="currentColor" stroke-opacity=".35"/><rect x="1.5" y="1.5" width="17" height="9" rx="1.5" fill="currentColor"/><path d="M23 4v4a2 2 0 000-4z" fill="currentColor" opacity=".4"/></svg>
                </div>
              </div>
            <div class="mobile-li-card"></div>
          </div>
        </div>
      </div>
      </div>
    </div>

    <!-- ── X Preview ── -->
    <div id="x-preview" style="display:none">
      <div class="preview-both">
        <div class="preview-desktop-col">
          <div class="preview-desktop-label">Desktop</div>
      <div class="x-card">
        <div class="x-post">
          <div class="x-avatar-col">
            <div class="x-avatar-wrap" onclick="document.getElementById('avatar-file').click()">
              <div class="x-avatar" id="x-avatar-el"><span>C</span></div>
              <div class="avatar-overlay"><svg viewBox="0 0 24 24"><path d="M12 12a4 4 0 110-8 4 4 0 010 8zm0 2c4.42 0 8 1.79 8 4v1H4v-1c0-2.21 3.58-4 8-4z"/></svg></div>
            </div>
          </div>
          <div class="x-content">
            <div class="x-header">
              <div class="x-name-row">
                <span class="x-name" id="x-display-name">Collin Wood</span>
                <span class="x-check"><svg viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"/></svg></span>
                <span class="x-handle" id="x-display-handle">@collinwood</span>
                <span class="x-dot">&middot;</span>
                <span class="x-time">2h</span>
              </div>
              <button class="x-follow" style="margin-left:8px">Follow</button>
              <button class="x-more">&middot;&middot;&middot;</button>
            </div>
            <div class="x-text" id="x-post-display"></div>
            <div class="x-image-wrap" id="x-img-wrap"><img id="x-post-img" src="" alt=""></div>
          </div>
        </div>
        <div class="x-timestamp-row">
          <span>2:34 PM</span> &middot; <span>Feb 18, 2026</span>
          <span style="margin-left:4px">&middot;</span>
          <span style="display:flex;align-items:center;gap:4px">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="#71767b"><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
            <span style="color:#e7e9ea;font-weight:600">24.8K</span> <span>views</span>
          </span>
        </div>
        <div class="x-stats-row">
          <span><strong>312</strong> Reposts</span>
          <span><strong>14</strong> Quotes</span>
          <span><strong>1,847</strong> Likes</span>
          <span><strong>203</strong> Bookmarks</span>
        </div>
        <div class="x-actions">
          <button class="x-act"><svg viewBox="0 0 24 24"><path d="M1.751 10c0-4.42 3.584-8 8.005-8h4.366c4.49 0 7.501 3.58 7.501 8 0 4.421-3.01 8-7.5 8h-8.366c-.204 0-.31-.01-.493-.015-.476.016-.85-.02-1.24-.248-.392-.228-.632-.603-.634-1.028L3.35 14.23l-.77.22c-.56.16-1.13-.2-1.25-.77-.12-.57.23-1.14.8-1.26l1.624-.37-.002-2.02zm2 0l.003 2.5-.003 2.5H9.756c3.373 0 5.501-2.58 5.501-6 0-3.42-2.128-6-5.5-6H9.756c-3.373 0-6.005 2.58-6.005 6z"/></svg>312</button>
          <button class="x-act"><svg viewBox="0 0 24 24"><path d="M4.75 3.79l4.603 4.3-1.706 1.82L6 8.38v7.37c0 .97.784 1.75 1.75 1.75H13V19H7.75C5.679 19 4 17.32 4 15.25V8.38L2.353 9.91.647 8.09l4.103-4.3zm11.5 2.71H11V4.5h5.25c2.071 0 3.75 1.68 3.75 3.75V15.62l1.647-1.53 1.706 1.82-4.103 4.3-4.603-4.3 1.706-1.82L18 15.62V8.25c0-.97-.784-1.75-1.75-1.75z"/></svg>1.8K</button>
          <button class="x-act"><svg viewBox="0 0 24 24"><path d="M16.697 5.5c-1.222-.06-2.679.51-3.89 2.16l-.805 1.09-.806-1.09C9.984 6.01 8.526 5.44 7.304 5.5c-1.243.07-2.349.78-2.91 1.91-.552 1.12-.633 2.78.479 4.82 1.074 1.97 3.257 4.27 7.129 6.61 3.87-2.34 6.052-4.64 7.126-6.61 1.111-2.04 1.03-3.7.477-4.82-.561-1.13-1.666-1.84-2.908-1.91zm4.187 7.69c-1.351 2.48-4.001 5.12-8.379 7.67l-.503.3-.504-.3c-4.379-2.55-7.029-5.19-8.382-7.67-1.36-2.5-1.41-4.86-.514-6.67.887-1.79 2.647-2.91 4.601-3.01 1.651-.09 3.368.56 4.798 2.01 1.429-1.45 3.146-2.1 4.796-2.01 1.954.1 3.714 1.22 4.601 3.01.896 1.81.846 4.17-.514 6.67z"/></svg>1,847</button>
          <button class="x-act"><svg viewBox="0 0 24 24"><path d="M4 4.5C4 3.12 5.119 2 6.5 2h11C18.881 2 20 3.12 20 4.5v18.44l-8-5.71-8 5.71V4.5zM6.5 4c-.276 0-.5.22-.5.5v14.56l6-4.29 6 4.29V4.5c0-.28-.224-.5-.5-.5h-11z"/></svg>203</button>
          <button class="x-act" style="margin-left:auto"><svg viewBox="0 0 24 24"><path d="M12 2.59l5.7 5.7-1.41 1.42L13 6.41V16h-2V6.41l-3.3 3.3-1.41-1.42L12 2.59zM21 15l-.02 3.51c0 1.38-1.12 2.49-2.5 2.49H5.5C4.11 21 3 19.88 3 18.5V15h2v3.5c0 .28.22.5.5.5h12.98c.28 0 .5-.22.5-.5L19 15h2z"/></svg></button>
        </div>
      </div>
        </div>
      <div class="mobile-col">
        <div class="mobile-label">Mobile</div>
        <div class="phone-frame">
          <div class="phone-notch"></div>
          <div class="phone-screen">
              <div class="phone-status-bar">
                <span class="phone-status-time">9:41</span>
                <div class="phone-status-icons">
                  <svg width="17" height="12" viewBox="0 0 17 12" fill="currentColor"><rect x="0" y="4" width="3" height="8" rx="1" opacity=".4"/><rect x="4.5" y="3" width="3" height="9" rx="1" opacity=".6"/><rect x="9" y="1" width="3" height="11" rx="1" opacity=".8"/><rect x="13.5" y="0" width="3" height="12" rx="1"/></svg>
                  <svg width="16" height="12" viewBox="0 0 24 18" fill="currentColor"><path d="M12 4C8.13 4 4.61 5.55 2.01 8.15L0 6.14C3.12 3.07 7.34 1 12 1s8.88 2.07 11.99 5.14l-2.01 2.01C19.39 5.55 15.87 4 12 4zm0 6c-2.56 0-4.87 1.04-6.54 2.71L3.45 10.7C5.63 8.52 8.67 7 12 7s6.37 1.52 8.55 3.7l-2.01 2.01C16.87 11.04 14.56 10 12 10zm0 6a4 4 0 00-2.83 1.17L12 20.34l2.83-3.17A4 4 0 0012 16z"/></svg>
                  <svg width="25" height="12" viewBox="0 0 25 12" fill="none"><rect x="0.5" y="0.5" width="21" height="11" rx="2" stroke="currentColor" stroke-opacity=".35"/><rect x="1.5" y="1.5" width="17" height="9" rx="1.5" fill="currentColor"/><path d="M23 4v4a2 2 0 000-4z" fill="currentColor" opacity=".4"/></svg>
                </div>
              </div>
            <div class="mobile-x-card"></div>
          </div>
        </div>
      </div>
      </div>
    </div>

    <!-- ── Facebook Preview ── -->
    <div id="fb-preview" style="display:none">
      <div class="preview-both">
        <div class="preview-desktop-col">
          <div class="preview-desktop-label">Desktop</div>
      <div class="fb-card">
        <div class="fb-post-header">
          <div class="fb-avatar" id="fb-avatar-el"><span id="fb-avatar-initials">C</span></div>
          <div class="fb-post-meta">
            <div class="fb-post-name" id="fb-display-name-el">Collin Wood</div>
            <div class="fb-post-info">Just now &middot; &#127758;</div>
          </div>
          <button class="fb-more-btn">&bull;&bull;&bull;</button>
        </div>
        <div class="fb-post-text" id="fb-post-text"></div>
        <div class="fb-post-img-wrap" id="fb-post-img-wrap" style="display:none"><img id="fb-post-img" src="" alt=""></div>
        <div class="fb-reaction-summary">
          <span class="fb-reactions-icons">&#128077;&#x2764;&#128518;</span>
          <span class="fb-reaction-count">&nbsp;1.2K</span>
          <span class="fb-comment-share" style="margin-left:auto">47 comments &middot; 23 shares</span>
        </div>
        <div class="fb-action-bar">
          <button class="fb-action-btn">&#128077; Like</button>
          <button class="fb-action-btn">&#128172; Comment</button>
          <button class="fb-action-btn">&#8599; Share</button>
        </div>
      </div>
        </div>
      <div class="mobile-col">
        <div class="mobile-label">Mobile</div>
        <div class="phone-frame">
          <div class="phone-notch"></div>
          <div class="phone-screen">
              <div class="phone-status-bar">
                <span class="phone-status-time">9:41</span>
                <div class="phone-status-icons">
                  <svg width="17" height="12" viewBox="0 0 17 12" fill="currentColor"><rect x="0" y="4" width="3" height="8" rx="1" opacity=".4"/><rect x="4.5" y="3" width="3" height="9" rx="1" opacity=".6"/><rect x="9" y="1" width="3" height="11" rx="1" opacity=".8"/><rect x="13.5" y="0" width="3" height="12" rx="1"/></svg>
                  <svg width="16" height="12" viewBox="0 0 24 18" fill="currentColor"><path d="M12 4C8.13 4 4.61 5.55 2.01 8.15L0 6.14C3.12 3.07 7.34 1 12 1s8.88 2.07 11.99 5.14l-2.01 2.01C19.39 5.55 15.87 4 12 4zm0 6c-2.56 0-4.87 1.04-6.54 2.71L3.45 10.7C5.63 8.52 8.67 7 12 7s6.37 1.52 8.55 3.7l-2.01 2.01C16.87 11.04 14.56 10 12 10zm0 6a4 4 0 00-2.83 1.17L12 20.34l2.83-3.17A4 4 0 0012 16z"/></svg>
                  <svg width="25" height="12" viewBox="0 0 25 12" fill="none"><rect x="0.5" y="0.5" width="21" height="11" rx="2" stroke="currentColor" stroke-opacity=".35"/><rect x="1.5" y="1.5" width="17" height="9" rx="1.5" fill="currentColor"/><path d="M23 4v4a2 2 0 000-4z" fill="currentColor" opacity=".4"/></svg>
                </div>
              </div>
            <div class="mobile-fb-card"></div>
          </div>
        </div>
      </div>
      </div>
    </div>

    <!-- ── Instagram Preview ── -->
    <div id="ig-preview" style="display:none">
      <div class="preview-both">
        <div class="preview-desktop-col">
          <div class="preview-desktop-label">Desktop</div>
      <div class="ig-card">
        <div class="ig-post-header">
          <div class="ig-avatar" id="ig-avatar-el"><span id="ig-avatar-initials">C</span></div>
          <span class="ig-post-username" id="ig-display-username-el">collinwood</span>
          <button class="ig-follow-btn" style="margin-left:auto">Follow</button>
          <button class="ig-more-btn">&bull;&bull;&bull;</button>
        </div>
        <div class="ig-post-img-wrap">
          <div class="ig-no-img" id="ig-no-img-msg">&#128247; Add an image to complete the Instagram preview</div>
          <img id="ig-post-img" src="" alt="" style="display:none">
        </div>
        <div class="ig-action-bar">
          <button class="ig-act-btn" title="Like"><svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20.84 4.61a5.5 5.5 0 00-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 00-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 000-7.78z"></path></svg></button>
          <button class="ig-act-btn" title="Comment"><svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"></path></svg></button>
          <button class="ig-act-btn" title="Share"><svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2"><line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon></svg></button>
          <button class="ig-act-btn ig-save-btn" title="Save"><svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 21l-7-5-7 5V5a2 2 0 012-2h10a2 2 0 012 2z"></path></svg></button>
        </div>
        <div class="ig-likes">1,247 likes</div>
        <div class="ig-caption">
          <span class="ig-caption-username" id="ig-caption-username-el">collinwood</span>
          <span class="ig-caption-text" id="ig-post-caption"></span>
        </div>
      </div>
        </div>
      <div class="mobile-col">
        <div class="mobile-label">Mobile</div>
        <div class="phone-frame">
          <div class="phone-notch"></div>
          <div class="phone-screen">
              <div class="phone-status-bar">
                <span class="phone-status-time">9:41</span>
                <div class="phone-status-icons">
                  <svg width="17" height="12" viewBox="0 0 17 12" fill="currentColor"><rect x="0" y="4" width="3" height="8" rx="1" opacity=".4"/><rect x="4.5" y="3" width="3" height="9" rx="1" opacity=".6"/><rect x="9" y="1" width="3" height="11" rx="1" opacity=".8"/><rect x="13.5" y="0" width="3" height="12" rx="1"/></svg>
                  <svg width="16" height="12" viewBox="0 0 24 18" fill="currentColor"><path d="M12 4C8.13 4 4.61 5.55 2.01 8.15L0 6.14C3.12 3.07 7.34 1 12 1s8.88 2.07 11.99 5.14l-2.01 2.01C19.39 5.55 15.87 4 12 4zm0 6c-2.56 0-4.87 1.04-6.54 2.71L3.45 10.7C5.63 8.52 8.67 7 12 7s6.37 1.52 8.55 3.7l-2.01 2.01C16.87 11.04 14.56 10 12 10zm0 6a4 4 0 00-2.83 1.17L12 20.34l2.83-3.17A4 4 0 0012 16z"/></svg>
                  <svg width="25" height="12" viewBox="0 0 25 12" fill="none"><rect x="0.5" y="0.5" width="21" height="11" rx="2" stroke="currentColor" stroke-opacity=".35"/><rect x="1.5" y="1.5" width="17" height="9" rx="1.5" fill="currentColor"/><path d="M23 4v4a2 2 0 000-4z" fill="currentColor" opacity=".4"/></svg>
                </div>
              </div>
            <div class="mobile-ig-card"></div>
          </div>
        </div>
      </div>
      </div>
    </div>

  </div><!-- /.preview-wrap -->
  </div><!-- /.preview-panel-col -->

</div><!-- /.main -->

<div class="site-footer">© Volado Labs · Post Preview Tool</div>

<script>
  const LI_LIMIT = 3000, X_LIMIT = 280, LI_TRUNC = 210;
  let platform = 'li', avatarDataUrl = null, postImgDataUrl = null;

  function setPlatform(p) {
    // hide all previews
    ['li-preview','x-preview','fb-preview','ig-preview'].forEach(id => {
      const el = document.getElementById(id);
      if(el) el.style.display = 'none';
    });
    // show selected
    const active = document.getElementById(p + '-preview');
    if(active) active.style.display = 'block';
    // update toggle buttons
    document.querySelectorAll('.toggle-btn').forEach(btn => btn.classList.remove('active'));
    const activeBtn = document.getElementById('btn-' + p);
    if(activeBtn) activeBtn.classList.add('active');
    // update global platform var + char count
    platform = p;
    document.body.classList.toggle('x-mode', p === 'x');
    updateCharCount();
    updatePreview();
  }
  function handleAvatar(e) {
    const file = e.target.files[0]; if (!file) return;
    const r = new FileReader();
    r.onload = ev => { avatarDataUrl = ev.target.result; applyAvatar(); };
    r.readAsDataURL(file);
  }

  function applyAvatar() {
    const img = `<img src="${avatarDataUrl}" alt="">`;
    document.getElementById('li-avatar-el').innerHTML = img;
    document.getElementById('x-avatar-el').innerHTML  = img;
    document.getElementById('editor-avatar').innerHTML = img;
  }

  function handlePostImage(e) {
    const file = e.target.files[0]; if (!file) return;
    const r = new FileReader();
    r.onload = ev => {
      postImgDataUrl = ev.target.result;
      document.getElementById('li-post-img').src = postImgDataUrl;
      document.getElementById('li-img-wrap').style.display = 'block';
      document.getElementById('x-post-img').src = postImgDataUrl;
      document.getElementById('x-img-wrap').style.display = 'block';
      document.getElementById('post-img-preview').src = postImgDataUrl;
      document.getElementById('post-img-thumb').style.display = 'block';
      document.getElementById('clear-img-btn').style.display = 'inline-block';
    };
    r.readAsDataURL(file);
  }

  function clearPostImage() {
    postImgDataUrl = null;
    ['li-post-img','x-post-img'].forEach(id => document.getElementById(id).src = '');
    ['li-img-wrap','x-img-wrap'].forEach(id => document.getElementById(id).style.display = 'none');
    document.getElementById('post-img-preview').src = '';
    document.getElementById('post-img-thumb').style.display = 'none';
    document.getElementById('clear-img-btn').style.display = 'none';
    document.getElementById('post-img-file').value = '';
  }

  function formatLI(raw) {
    return raw.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;')
      .replace(/(#[\w\u00C0-\u024F]+)/g,'<span class="li-hashtag">$1</span>')
      .replace(/(@[\w.]+)/g,'<span class="li-mention">$1</span>');
  }

  function formatX(raw) {
    return raw.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;')
      .replace(/(#[\w\u00C0-\u024F]+)/g,'<span class="x-hashtag">$1</span>')
      .replace(/(@[\w.]+)/g,'<span class="x-mention">$1</span>');
  }

  function updateCharCount() {
    const len = document.getElementById('post-input').value.length;
    const lim = platform === 'x' ? X_LIMIT : LI_LIMIT;
    const el  = document.getElementById('char-count');
    el.textContent = `${len.toLocaleString()} / ${lim.toLocaleString()}`;
    el.className   = 'char-count' + (len > lim * 0.9 ? ' warn' : '') + (len > lim ? ' over' : '');
  }

  function updatePreview() { setTimeout(syncMobilePreviews, 50);
    const raw    = document.getElementById('post-input').value;
    const name   = document.getElementById('name-input').value  || 'Your Name';
    const title  = document.getElementById('title-input').value || '';
    const handle = document.getElementById('handle-input').value || '@handle';

    document.getElementById('li-display-name').textContent  = name;
    document.getElementById('li-display-title').textContent = title;
    document.getElementById('x-display-name').textContent   = name;
    document.getElementById('x-display-handle').textContent = handle.startsWith('@') ? handle : '@'+handle;

    if (!avatarDataUrl) {
      const letter = `<span>${name.charAt(0).toUpperCase()}</span>`;
      document.getElementById('li-avatar-el').innerHTML = letter;
      document.getElementById('x-avatar-el').innerHTML  = letter;
      document.getElementById('editor-avatar').innerHTML = letter;
      const fbInit = document.getElementById('fb-avatar-initials'); if(fbInit && !document.getElementById('fb-avatar-el').querySelector('img')) fbInit.textContent = name.charAt(0).toUpperCase();
      const igInit = document.getElementById('ig-avatar-initials'); if(igInit && !document.getElementById('ig-avatar-el').querySelector('img')) igInit.textContent = name.charAt(0).toUpperCase();
    }

    // LinkedIn text + truncation
    const liEl = document.getElementById('li-post-display');
    const liSM = document.getElementById('li-see-more');
    if (raw.length > LI_TRUNC) {
      const cut = raw.lastIndexOf(' ', LI_TRUNC) || LI_TRUNC;
      liEl.innerHTML = `<span class="tv">${formatLI(raw.substring(0,cut))}</span><span class="tf" style="display:none">${formatLI(raw)}</span>`;
      liSM.style.display = 'inline';
      liSM.onclick = () => { liEl.querySelector('.tv').style.display='none'; liEl.querySelector('.tf').style.display='inline'; liSM.style.display='none'; };
    } else {
      liEl.innerHTML = formatLI(raw);
      liSM.style.display = 'none';
    }

    document.getElementById('x-post-display').innerHTML = formatX(raw);

    // ── Facebook ──
    const fbNameEl = document.getElementById('fb-display-name-el');
    if (fbNameEl) fbNameEl.textContent = name;
    const fbTextEl = document.getElementById('fb-post-text');
    if (fbTextEl) fbTextEl.textContent = raw;
    if (!avatarDataUrl) {
      const fbAv = document.getElementById('fb-avatar-initials');
      if (fbAv) fbAv.textContent = name.charAt(0).toUpperCase();
    }

    // ── Instagram ──
    const igUserEl  = document.getElementById('ig-display-username-el');
    const igCapUser = document.getElementById('ig-caption-username-el');
    const igSlug    = name.toLowerCase().replace(/\s+/g, '');
    if (igUserEl)  igUserEl.textContent  = igSlug;
    if (igCapUser) igCapUser.textContent = igSlug;
    const igCapEl = document.getElementById('ig-post-caption');
    if (igCapEl) igCapEl.textContent = raw;
    if (!avatarDataUrl) {
      const igAv = document.getElementById('ig-avatar-initials');
      if (igAv) igAv.textContent = name.charAt(0).toUpperCase();
    }
  }

  document.getElementById('post-input').addEventListener('input', () => { updateCharCount(); updatePreview(); });
  document.getElementById('name-input').addEventListener('input', updatePreview);
  document.getElementById('title-input').addEventListener('input', updatePreview);
  document.getElementById('handle-input').addEventListener('input', updatePreview);

  document.getElementById('post-input').value = `Most agencies tell you what you're missing.

We show you exactly what's costing you customers.

In 30 minutes, I'll pull a full snapshot of your local search presence — where you rank, where your competitors beat you, and the 3 moves that would have the biggest impact.

No fluff. No pitch deck. Just data.

If you run a local business and you're serious about growth, DM me "AUDIT" and I'll get it scheduled.

#LocalSEO #MarketingStrategy #VoladoLabs`;


  // ── Mobile feed card builders ──────────────────────────────────────────────
  // Renders an authentic mobile-app feed view for each platform.
  // Text is CSS line-clamped to match what users see BEFORE expanding a post.

  function buildMobileCard(plat, raw, name, title, handle, avHtml) {
    const initial = (name || 'Y').charAt(0).toUpperCase();
    // Avatar inner HTML
    const avInner = avHtml ||
      `<span style="font-size:16px;font-weight:700;color:#fff">${initial}</span>`;

    function avatarDiv(size, bg, extra) {
      return `<div style="width:${size}px;height:${size}px;border-radius:50%;background:${bg};display:flex;align-items:center;justify-content:center;overflow:hidden;flex-shrink:0;${extra||''}">${avInner}</div>`;
    }

    const esc = t => (t||'').replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');
    const clamp = (lines) =>
      `overflow:hidden;display:-webkit-box;-webkit-line-clamp:${lines};-webkit-box-orient:vertical;word-break:break-word;`;

    // ── LinkedIn mobile feed ────────────────────────────────────────────────
    if (plat === 'li') {
      const liBg = 'linear-gradient(135deg,#0077b5,#004182)';
      const postHtml = formatLI(raw);
      const showSeeMore = raw.length > 80; // approximate: most posts >80 chars wrap past 3 lines
      return `<div style="background:#f3f2ef;min-height:100%;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif">
        <!-- LI top app bar -->
        <div style="background:#fff;padding:8px 12px;display:flex;align-items:center;gap:10px;border-bottom:1px solid #e0e0e0;position:sticky;top:0;z-index:10">
          ${avatarDiv(30, liBg, '')}
          <div style="flex:1;display:flex;justify-content:center">
            <svg width="22" height="22" viewBox="0 0 34 34" fill="#0077b5"><path d="M34 2.5v29A2.5 2.5 0 0131.5 34h-29A2.5 2.5 0 010 31.5v-29A2.5 2.5 0 012.5 0h29A2.5 2.5 0 0134 2.5zM10 13H5v16h5V13zm.45-5.5a2.95 2.95 0 10-5.9 0 2.95 2.95 0 005.9 0zM29 19.28c0-4.81-3.06-6.68-6.1-6.68a5.7 5.7 0 00-5.06 2.58H17.7V13H13v16h5v-8.51a3.32 3.32 0 013.23-3.5c1.86 0 2.77 1.26 2.77 3.46V29h5v-9.72z"/></svg>
          </div>
          <div style="display:flex;gap:16px;align-items:center">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#666" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg>
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#666" stroke-width="2"><path d="M18 8A6 6 0 006 8c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 01-3.46 0"/></svg>
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#666" stroke-width="2"><path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"/></svg>
          </div>
        </div>
        <!-- Feed card -->
        <div style="background:#fff;margin:8px 0;border-top:1px solid #e0e0e0;border-bottom:1px solid #e0e0e0">
          <div style="display:flex;align-items:flex-start;padding:12px 12px 0;gap:8px">
            ${avatarDiv(40, liBg, '')}
            <div style="flex:1;min-width:0">
              <div style="font-size:14px;font-weight:700;color:rgba(0,0,0,.9)">${esc(name)} <span style="font-weight:400;color:rgba(0,0,0,.55);font-size:12px">· 1st</span></div>
              <div style="font-size:11px;color:rgba(0,0,0,.6);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:150px">${esc(title||'Entrepreneur')}</div>
              <div style="font-size:11px;color:rgba(0,0,0,.5);margin-top:1px">2h · 🌐</div>
            </div>
            <button style="background:none;border:none;color:#0a66c2;font-size:13px;font-weight:700;cursor:pointer;padding:2px 0;font-family:inherit;white-space:nowrap">+ Follow</button>
          </div>
          <!-- Text: clamped to 3 lines (feed view before expanding) -->
          <div style="padding:8px 12px 0;font-size:14px;color:rgba(0,0,0,.9);line-height:1.5;${clamp(3)}">${postHtml}</div>
          ${showSeeMore ? `<div style="padding:2px 12px 6px"><span style="color:rgba(0,0,0,.55);font-size:14px">…see more</span></div>` : `<div style="padding-bottom:6px"></div>`}
          ${postImgDataUrl ? `<img src="${postImgDataUrl}" style="width:100%;max-height:200px;object-fit:cover;display:block">` : ''}
          <!-- Engagement -->
          <div style="display:flex;align-items:center;justify-content:space-between;padding:4px 12px;border-top:1px solid #f0f0f0;margin-top:4px">
            <div style="display:flex;align-items:center;gap:3px">
              <span style="font-size:14px">👍</span><span style="font-size:14px;margin-left:-3px">❤️</span><span style="font-size:14px;margin-left:-3px">💡</span>
              <span style="font-size:12px;color:rgba(0,0,0,.55);margin-left:3px">127</span>
            </div>
            <span style="font-size:12px;color:rgba(0,0,0,.55)">14 comments</span>
          </div>
          <div style="border-top:1px solid #e8e8e8;margin:0 8px"></div>
          <!-- Action bar -->
          <div style="display:flex;padding:2px 0 6px">
            ${['👍 Like','💬 Comment','♻️ Repost','↗️ Send'].map(a=>`<button style="flex:1;display:flex;align-items:center;justify-content:center;gap:3px;padding:8px 1px;border:none;background:none;color:rgba(0,0,0,.6);font-size:11px;font-weight:600;font-family:inherit;cursor:pointer">${a}</button>`).join('')}
          </div>
        </div>
        <!-- Ghost next post (shows feed context) -->
        <div style="background:#fff;padding:12px;opacity:.35">
          <div style="display:flex;gap:8px"><div style="width:36px;height:36px;border-radius:50%;background:#ddd;flex-shrink:0"></div><div style="flex:1"><div style="width:90px;height:9px;background:#ddd;border-radius:4px;margin-bottom:5px"></div><div style="width:140px;height:8px;background:#eee;border-radius:4px"></div></div></div>
        </div>
      </div>`;
    }

    // ── X / Twitter mobile feed ─────────────────────────────────────────────
    if (plat === 'x') {
      const xBg = 'linear-gradient(135deg,#1d9bf0,#0063bf)';
      const hdl = handle && handle.startsWith('@') ? handle : '@' + (handle || 'handle');
      const tweetHtml = formatX(raw);
      return `<div style="background:#fff;min-height:100%;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif">
        <!-- X top bar -->
        <div style="background:#fff;padding:8px 14px;display:flex;align-items:center;gap:10px;border-bottom:1px solid #eff3f4;position:sticky;top:0;z-index:10">
          ${avatarDiv(28, xBg, '')}
          <div style="flex:1;display:flex;justify-content:center">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="#000"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-4.714-6.231-5.401 6.231H2.746l7.73-8.835L1.254 2.25H8.08l4.253 5.622zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
          </div>
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#536471" stroke-width="2.5"><circle cx="12" cy="5" r="1.2"/><circle cx="12" cy="12" r="1.2"/><circle cx="12" cy="19" r="1.2"/></svg>
        </div>
        <!-- For You / Following tabs -->
        <div style="display:flex;border-bottom:1px solid #eff3f4">
          <div style="flex:1;text-align:center;padding:14px;font-size:15px;font-weight:700;color:#0f1419;border-bottom:2px solid #1d9bf0">For You</div>
          <div style="flex:1;text-align:center;padding:14px;font-size:15px;color:#536471">Following</div>
        </div>
        <!-- Tweet -->
        <div style="padding:12px 14px;border-bottom:1px solid #eff3f4;display:flex;gap:10px">
          ${avatarDiv(38, xBg, 'align-self:flex-start')}
          <div style="flex:1;min-width:0">
            <div style="display:flex;align-items:flex-start;gap:4px;flex-wrap:wrap;margin-bottom:3px">
              <span style="font-size:14px;font-weight:700;color:#0f1419">${esc(name)}</span>
              <span style="background:#1d9bf0;border-radius:50%;width:16px;height:16px;display:inline-flex;align-items:center;justify-content:center;flex-shrink:0"><svg width="9" height="9" viewBox="0 0 24 24" fill="#fff"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg></span>
              <span style="font-size:13px;color:#536471">${hdl}</span>
              <span style="color:#536471">·</span>
              <span style="font-size:13px;color:#536471">2h</span>
              <button style="margin-left:auto;background:none;border:none;color:#536471;font-size:18px;cursor:pointer;padding:0;line-height:1">···</button>
            </div>
            <!-- Full tweet text — X doesn't truncate in feed for normal-length posts -->
            <div style="font-size:14px;color:#0f1419;line-height:1.5;white-space:pre-wrap;word-break:break-word;margin-bottom:10px">${tweetHtml}</div>
            ${postImgDataUrl ? `<div style="border-radius:12px;overflow:hidden;margin-bottom:10px"><img src="${postImgDataUrl}" style="width:100%;max-height:220px;object-fit:cover;display:block"></div>` : ''}
            <!-- Actions -->
            <div style="display:flex;justify-content:space-between;align-items:center;color:#536471;font-size:12px;max-width:260px">
              <button style="display:flex;align-items:center;gap:4px;background:none;border:none;color:#536471;font-size:12px;cursor:pointer;padding:4px 0"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M1.751 10c0-4.42 3.584-8 8.005-8h4.366c4.49 0 7.501 3.58 7.501 8 0 4.421-3.01 8-7.5 8h-8.366c-.476.016-.85-.02-1.24-.248-.392-.228-.632-.603-.634-1.028L3.35 14.23l-.77.22c-.56.16-1.13-.2-1.25-.77l1.624-.37L2.754 11zm2-.003.003 2.5-.003 2.5H9.756c3.373 0 5.501-2.58 5.501-6 0-3.42-2.128-6-5.5-6H9.756c-3.373 0-6.005 2.58-6.005 6z"/></svg>312</button>
              <button style="display:flex;align-items:center;gap:4px;background:none;border:none;color:#536471;font-size:12px;cursor:pointer;padding:4px 0"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M4.75 3.79l4.603 4.3-1.706 1.82L6 8.38v7.37c0 .97.784 1.75 1.75 1.75H13V19H7.75C5.679 19 4 17.32 4 15.25V8.38L2.353 9.91.647 8.09l4.103-4.3zm11.5 2.71H11V4.5h5.25c2.071 0 3.75 1.68 3.75 3.75V15.62l1.647-1.53 1.706 1.82-4.103 4.3-4.603-4.3 1.706-1.82L18 15.62V8.25c0-.97-.784-1.75-1.75-1.75z"/></svg>1.8K</button>
              <button style="display:flex;align-items:center;gap:4px;background:none;border:none;color:#536471;font-size:12px;cursor:pointer;padding:4px 0"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M16.697 5.5c-1.222-.06-2.679.51-3.89 2.16l-.805 1.09-.806-1.09C9.984 6.01 8.526 5.44 7.304 5.5c-1.243.07-2.349.78-2.91 1.91-.552 1.12-.633 2.78.479 4.82 1.074 1.97 3.257 4.27 7.129 6.61 3.87-2.34 6.052-4.64 7.126-6.61 1.111-2.04 1.03-3.7.477-4.82-.561-1.13-1.666-1.84-2.908-1.91zm4.187 7.69c-1.351 2.48-4.001 5.12-8.379 7.67l-.503.3-.504-.3c-4.379-2.55-7.029-5.19-8.382-7.67-1.36-2.5-1.41-4.86-.514-6.67.887-1.79 2.647-2.91 4.601-3.01 1.651-.09 3.368.56 4.798 2.01 1.429-1.45 3.146-2.1 4.796-2.01 1.954.1 3.714 1.22 4.601 3.01.896 1.81.846 4.17-.514 6.67z"/></svg>1,847</button>
              <button style="display:flex;align-items:center;gap:4px;background:none;border:none;color:#536471;font-size:12px;cursor:pointer;padding:4px 0"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M8.75 21V3h2v18h-2zM18 21V8.5h2V21h-2zM4 21l.004-10h2L6 21H4zm9.248 0v-7h2v7h-2z"/></svg>24.8K</button>
              <button style="display:flex;align-items:center;gap:4px;background:none;border:none;color:#536471;font-size:12px;cursor:pointer;padding:4px 0;margin-left:auto"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2.59l5.7 5.7-1.41 1.42L13 6.41V16h-2V6.41l-3.3 3.3-1.41-1.42L12 2.59zM21 15l-.02 3.51c0 1.38-1.12 2.49-2.5 2.49H5.5C4.11 21 3 19.88 3 18.5V15h2v3.5c0 .28.22.5.5.5h12.98c.28 0 .5-.22.5-.5L19 15h2z"/></svg></button>
            </div>
          </div>
        </div>
        <!-- Ghost next tweet -->
        <div style="padding:12px 14px;border-bottom:1px solid #eff3f4;display:flex;gap:10px;opacity:.35">
          <div style="width:38px;height:38px;border-radius:50%;background:#e7e9ea;flex-shrink:0"></div>
          <div style="flex:1"><div style="width:100px;height:10px;background:#e7e9ea;border-radius:4px;margin-bottom:6px"></div><div style="width:180px;height:9px;background:#eff3f4;border-radius:4px"></div></div>
        </div>
      </div>`;
    }

    // ── Facebook mobile feed ────────────────────────────────────────────────
    if (plat === 'fb') {
      const fbBg = '#0866FF';
      const showSeeMore = raw.length > 100;
      return `<div style="background:#f0f2f5;min-height:100%;font-family:'Helvetica Neue',Arial,sans-serif">
        <!-- FB top bar -->
        <div style="background:#fff;padding:6px 10px;border-bottom:1px solid #e4e6eb;position:sticky;top:0;z-index:10;display:flex;align-items:center;gap:8px">
          <svg width="34" height="34" viewBox="0 0 38 38" fill="#1877F2"><path d="M38 19a19 19 0 10-21.969 18.773V24.498H11.2V19h4.831v-4.188c0-4.768 2.839-7.401 7.185-7.401 2.081 0 4.261.372 4.261.372v4.683h-2.4c-2.364 0-3.099 1.468-3.099 2.972V19h5.277l-.843 5.498h-4.434v13.275A19.006 19.006 0 0038 19z"/></svg>
          <div style="flex:1;background:#f0f2f5;border-radius:999px;padding:7px 12px;font-size:13px;color:#65676b">Search Facebook</div>
          <svg width="30" height="30" viewBox="0 0 32 32" fill="#0084ff"><path d="M16 0C7.178 0 0 6.728 0 15.037c0 4.746 2.3 8.979 5.913 11.763V32l5.396-2.968C12.756 29.343 14.345 29.59 16 29.59c8.822 0 16-6.728 16-14.553C32 6.728 24.822 0 16 0z"/><path d="M17.81 19.587l-4.064-4.326-7.935 4.326 8.724-9.26 4.162 4.326 7.837-4.326z" fill="#fff"/></svg>
        </div>
        <!-- Story bar (context) -->
        <div style="background:#fff;padding:8px 10px;margin-bottom:8px;display:flex;gap:8px;border-bottom:1px solid #e4e6eb">
          <div style="width:52px;flex-shrink:0"><div style="width:52px;height:80px;background:linear-gradient(180deg,#ddd 60%,#eee 100%);border-radius:10px;display:flex;align-items:flex-end;justify-content:center;padding-bottom:6px"><div style="width:28px;height:28px;border-radius:50%;background:#1877F2;border:2px solid #fff;display:flex;align-items:center;justify-content:center"><span style="color:#fff;font-weight:700;font-size:14px">+</span></div></div><div style="font-size:10px;text-align:center;color:#050505;margin-top:4px;font-weight:600">Add story</div></div>
          ${[['#c8a87a','A'],['#8bb4d4','B'],['#a8c8a0','C']].map(([bg,l])=>`<div style="width:52px;flex-shrink:0"><div style="width:52px;height:80px;background:${bg};border-radius:10px;display:flex;align-items:flex-end;justify-content:center;padding-bottom:6px"><div style="width:24px;height:24px;border-radius:50%;background:#ddd;border:2px solid #fff"></div></div></div>`).join('')}
        </div>
        <!-- Post card -->
        <div style="background:#fff;margin-bottom:8px">
          <div style="display:flex;align-items:center;gap:8px;padding:10px 10px 6px">
            ${avatarDiv(38, fbBg, '')}
            <div style="flex:1">
              <div style="font-size:14px;font-weight:700;color:#050505">${esc(name)}</div>
              <div style="font-size:12px;color:#65676b">Just now · 🌐</div>
            </div>
            <button style="background:none;border:none;font-size:18px;color:#65676b;cursor:pointer;padding:4px 8px;border-radius:50%">···</button>
          </div>
          <!-- Text: clamped to 3 lines in feed -->
          <div style="padding:0 10px 4px;font-size:15px;color:#050505;line-height:1.44;${clamp(3)}">${esc(raw)}</div>
          ${showSeeMore ? `<div style="padding:0 10px 8px"><span style="font-size:15px;color:#050505;font-weight:700;cursor:pointer">See more</span></div>` : `<div style="padding-bottom:8px"></div>`}
          ${postImgDataUrl ? `<img src="${postImgDataUrl}" style="width:100%;display:block">` : ''}
          <div style="display:flex;align-items:center;padding:6px 10px;border-top:1px solid #e4e6eb">
            <span style="font-size:14px">👍❤️😂</span>
            <span style="font-size:13px;color:#65676b;margin-left:4px">1.2K</span>
            <span style="font-size:13px;color:#65676b;margin-left:auto">47 comments · 23 shares</span>
          </div>
          <div style="display:flex;border-top:1px solid #e4e6eb">
            ${['👍 Like','💬 Comment','↗️ Share'].map(a=>`<button style="flex:1;padding:8px 2px;background:none;border:none;color:#65676b;font-size:13px;font-weight:700;font-family:inherit;cursor:pointer">${a}</button>`).join('')}
          </div>
        </div>
        <!-- Ghost next post -->
        <div style="background:#fff;padding:12px 10px;opacity:.35;display:flex;gap:8px">
          <div style="width:38px;height:38px;border-radius:50%;background:#ddd;flex-shrink:0"></div>
          <div><div style="width:80px;height:10px;background:#ddd;border-radius:4px;margin-bottom:5px"></div><div style="width:140px;height:8px;background:#eee;border-radius:4px"></div></div>
        </div>
      </div>`;
    }

    // ── Instagram mobile feed ───────────────────────────────────────────────
    if (plat === 'ig') {
      const igBg = 'linear-gradient(135deg,#f09433 0%,#e6683c 25%,#dc2743 50%,#cc2366 75%,#bc1888 100%)';
      const igSlug = name.toLowerCase().replace(/\s+/g,'');
      const imgArea = postImgDataUrl
        ? `<img src="${postImgDataUrl}" style="width:100%;height:100%;object-fit:cover;display:block">`
        : `<div style="display:flex;align-items:center;justify-content:center;width:100%;height:100%;color:#aaa;font-size:12px;text-align:center;padding:20px;box-sizing:border-box">📷 Add an image to complete the Instagram preview</div>`;
      const showMore = raw.length > 60;
      return `<div style="background:#fff;min-height:100%;font-family:-apple-system,BlinkMacSystemFont,'Helvetica Neue',sans-serif">
        <!-- IG top bar -->
        <div style="background:#fff;padding:10px 14px;display:flex;align-items:center;border-bottom:1px solid #dbdbdb;position:sticky;top:0;z-index:10">
          <span style="font-family:Georgia,'Times New Roman',serif;font-size:22px;font-style:italic;color:#262626;letter-spacing:-0.5px">Instagram</span>
          <div style="display:flex;gap:18px;align-items:center;margin-left:auto">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#262626" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/><path d="M12 8v8m-4-4h8"/></svg>
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#262626" stroke-width="2"><path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"/></svg>
          </div>
        </div>
        <!-- Stories row -->
        <div style="display:flex;gap:12px;padding:10px 12px;border-bottom:1px solid #dbdbdb;overflow:hidden">
          <div style="flex-shrink:0;text-align:center">
            <div style="width:52px;height:52px;border-radius:50%;background:linear-gradient(45deg,#fd5,#f90,#f15,#a00aff);padding:2px;margin-bottom:3px">
              <div style="width:100%;height:100%;border-radius:50%;background:#fff;display:flex;align-items:center;justify-content:center;overflow:hidden">${avInner}</div>
            </div>
            <div style="font-size:10px;color:#262626;max-width:52px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">Your story</div>
          </div>
          ${['Alex','Jordan','Sam'].map(n=>`<div style="flex-shrink:0;text-align:center"><div style="width:52px;height:52px;border-radius:50%;background:linear-gradient(45deg,#fd5,#f90,#f15,#a00aff);padding:2px;margin-bottom:3px"><div style="width:100%;height:100%;border-radius:50%;background:#ddd"></div></div><div style="font-size:10px;color:#262626">${n}</div></div>`).join('')}
        </div>
        <!-- Post -->
        <div style="border-bottom:1px solid #dbdbdb">
          <div style="display:flex;align-items:center;padding:10px 12px;gap:10px">
            ${avatarDiv(32, igBg, '')}
            <span style="font-size:14px;font-weight:700;color:#262626;flex:1">${igSlug}</span>
            <button style="background:none;border:none;color:#0095f6;font-size:14px;font-weight:700;cursor:pointer;font-family:inherit">Follow</button>
            <button style="background:none;border:none;font-size:18px;color:#262626;cursor:pointer">···</button>
          </div>
          <div style="width:100%;aspect-ratio:1/1;background:#f5f5f5;overflow:hidden">${imgArea}</div>
          <div style="padding:8px 12px;display:flex;gap:14px;align-items:center">
            <button style="background:none;border:none;font-size:22px;cursor:pointer;padding:2px;line-height:1">🤍</button>
            <button style="background:none;border:none;font-size:22px;cursor:pointer;padding:2px;line-height:1">💬</button>
            <button style="background:none;border:none;font-size:22px;cursor:pointer;padding:2px;line-height:1">↗️</button>
            <button style="background:none;border:none;font-size:22px;cursor:pointer;padding:2px;line-height:1;margin-left:auto">🔖</button>
          </div>
          <div style="padding:0 12px 4px;font-size:14px;font-weight:700;color:#262626">1,247 likes</div>
          <!-- Caption: 2 lines in feed, then "more" -->
          <div style="padding:0 12px 12px;font-size:14px;color:#262626;line-height:1.5">
            <span style="font-weight:700;margin-right:4px">${igSlug}</span><span style="${clamp(2)}">${esc(raw)}</span>${showMore ? ` <span style="color:#8e8e8e;cursor:pointer">more</span>` : ''}
          </div>
        </div>
        <!-- Ghost next post -->
        <div style="padding:10px 12px;opacity:.35;display:flex;gap:10px;align-items:center">
          <div style="width:30px;height:30px;border-radius:50%;background:#ddd;flex-shrink:0"></div>
          <div style="width:80px;height:9px;background:#ddd;border-radius:4px"></div>
          <div style="margin-left:auto;width:50px;height:9px;background:#eee;border-radius:4px"></div>
        </div>
      </div>`;
    }

    return '';
  }

  function syncMobilePreviews() {
    const raw    = document.getElementById('post-input').value;
    const name   = document.getElementById('name-input').value  || 'Your Name';
    const title  = document.getElementById('title-input').value || '';
    const handle = document.getElementById('handle-input').value || '@handle';
    const avHtml = avatarDataUrl
      ? `<img src="${avatarDataUrl}" style="width:100%;height:100%;object-fit:cover;display:block">`
      : null;

    const map = { li: '.mobile-li-card', x: '.mobile-x-card', fb: '.mobile-fb-card', ig: '.mobile-ig-card' };
    Object.entries(map).forEach(([plat, sel]) => {
      const dst = document.querySelector(sel);
      if (dst) dst.innerHTML = buildMobileCard(plat, raw, name, title, handle, avHtml);
    });
  }

  function downloadScreenshot() {
    const p = platform;
    const desktopEl = document.getElementById(p + '-preview');
    if (!desktopEl) return;

    // Find the desktop card and phone frame
    const cardEl    = desktopEl.querySelector('.preview-desktop-col > :not(.preview-desktop-label)');
    const phoneEl   = desktopEl.querySelector('.phone-frame');
    if (!cardEl || !phoneEl) {
      // Fallback: just capture the preview div
      const btn = document.querySelector('.screenshot-btn');
      btn.textContent = 'Capturing…';
      html2canvas(desktopEl, { useCORS: true, scale: 2 }).then(canvas => {
        const link = document.createElement('a');
        link.download = `post-preview-${p}-${new Date().toISOString().slice(0,10)}.png`;
        link.href = canvas.toDataURL('image/png');
        link.click();
        btn.innerHTML = '<svg viewBox="0 0 24 24" style="width:15px;height:15px;fill:#fff"><path d="M9 2a1 1 0 00-.894.553L7.382 4H4a2 2 0 00-2 2v12a2 2 0 002 2h16a2 2 0 002-2V6a2 2 0 00-2-2h-3.382l-.724-1.447A1 1 0 0015 2H9zm3 5a5 5 0 110 10A5 5 0 0112 7zm0 2a3 3 0 100 6 3 3 0 000-6z"/></svg> Download Screenshot';
      });
      return;
    }

    const capture = document.getElementById('screenshot-capture');
    const platformNames = { li: 'LinkedIn', x: 'X (Twitter)', fb: 'Facebook', ig: 'Instagram' };
    const platformColors = { li: '#0a66c2', x: '#000', fb: '#1877F2', ig: '#c13584' };

    capture.innerHTML = '';
    capture.style.background = '#f0f2f5';

    // Header label
    const header = document.createElement('div');
    header.style.cssText = 'position:absolute;top:10px;left:32px;right:32px;font-family:Manrope,sans-serif;font-size:13px;font-weight:700;color:' + platformColors[p] + ';letter-spacing:.04em;text-transform:uppercase;';
    header.textContent = platformNames[p] + ' Preview';
    capture.appendChild(header);

    // Desktop col
    const deskWrap = document.createElement('div');
    deskWrap.innerHTML = '<div style="font-family:Manrope,sans-serif;font-size:11px;font-weight:700;color:#aaa;text-transform:uppercase;letter-spacing:.06em;margin-bottom:10px;text-align:center;">Desktop</div>';
    const deskClone = cardEl.cloneNode(true);
    deskWrap.appendChild(deskClone);
    deskWrap.style.cssText = 'flex-shrink:0;margin-top:32px;';
    capture.appendChild(deskWrap);

    // Mobile col
    const mobileWrap = document.createElement('div');
    const phoneClone = phoneEl.cloneNode(true);
    phoneClone.style.width = '280px';
    mobileWrap.innerHTML = '<div style="font-family:Manrope,sans-serif;font-size:11px;font-weight:700;color:#aaa;text-transform:uppercase;letter-spacing:.06em;margin-bottom:10px;text-align:center;">Mobile</div>';
    mobileWrap.appendChild(phoneClone);
    mobileWrap.style.cssText = 'flex-shrink:0;margin-top:32px;';
    capture.appendChild(mobileWrap);

    const btn = document.querySelector('.screenshot-btn');
    btn.textContent = 'Capturing…';

    // Slight delay so images settle
    setTimeout(() => {
      html2canvas(capture, { useCORS: true, scale: 2, backgroundColor: '#f0f2f5' }).then(canvas => {
        const link = document.createElement('a');
        link.download = 'post-preview-' + p + '-' + new Date().toISOString().slice(0,10) + '.png';
        link.href = canvas.toDataURL('image/png');
        link.click();
        btn.innerHTML = '<svg viewBox="0 0 24 24" style="width:15px;height:15px;fill:#fff"><path d="M9 2a1 1 0 00-.894.553L7.382 4H4a2 2 0 00-2 2v12a2 2 0 002 2h16a2 2 0 002-2V6a2 2 0 00-2-2h-3.382l-.724-1.447A1 1 0 0015 2H9zm3 5a5 5 0 110 10A5 5 0 0112 7zm0 2a3 3 0 100 6 3 3 0 000-6z"/></svg> Download Screenshot';
        capture.innerHTML = '';
      });
    }, 150);
  }


  setPlatform('li');
  updateCharCount();
  updatePreview();
  syncMobilePreviews();

  // (view toggle removed — desktop + mobile now stacked vertically)
</script>
<div id="screenshot-capture"></div>
</body>
</html>
